# === CONFIGURAÇÕES OTIMIZADAS PARA DETECÇÃO DE PLACAS ===

# Server configuration
server.port=8080
server.servlet.context-path=/api
spring.application.name=license-plate-detector-api

# Multipart file upload configuration - OTIMIZADO
spring.servlet.multipart.max-file-size=20MB
spring.servlet.multipart.max-request-size=25MB
spring.servlet.multipart.file-size-threshold=2MB

# Tomcat configuration - CONFIGURAÇÕES APRIMORADAS
server.tomcat.max-http-post-size=25MB
server.tomcat.max-swallow-size=25MB
server.tomcat.connection-timeout=30000
server.tomcat.keep-alive-timeout=30000

# Threading configuration para processamento assíncrono
spring.task.execution.pool.core-size=4
spring.task.execution.pool.max-size=8
spring.task.execution.pool.queue-capacity=100
spring.task.execution.thread-name-prefix=plate-detector-

# Tesseract OCR configuration - MELHORADO
tesseract.data.path=C:\\Program Files\\Tesseract-OCR\\tessdata
tesseract.language=por
tesseract.page-seg-mode=8
tesseract.ocr-engine-mode=1

# Image processing configuration - PARÂMETROS OTIMIZADOS
image.compression.quality=0.85
image.max.width=2000
image.max.height=2000
image.resize.bicubic=true

# Plate detection parameters - CONFIGURAÇÕES ESPECÍFICAS PARA PLACAS BR
plate.detection.min-area=3000
plate.detection.max-area=50000
plate.detection.min-aspect-ratio=2.0
plate.detection.max-aspect-ratio=5.0
plate.detection.min-width=120
plate.detection.min-height=30

# Preprocessing parameters - MELHORIAS NO PRÉ-PROCESSAMENTO
image.blur.radius=1
image.threshold.adaptive=true
image.threshold.window-size=15
image.morphological.cleaning=true

# Cache configuration - CACHE INTELIGENTE
plate.cache.enabled=true
plate.cache.max-size=1000
plate.cache.ttl-minutes=30
plate.cache.cleanup-interval=600000

# Image saving configuration - SALVAR IMAGENS PARA DEBUG
image.save.enabled=true
image.save.path=C:/Users/jorge/Documents/processed-images
image.save.original=true
image.save.processed=true
image.save.debug-regions=true

# Performance optimization - OTIMIZAÇÕES DE PERFORMANCE
image.processing.parallel=true
image.processing.max-threads=4
image.processing.timeout-ms=30000

# OCR optimization - CONFIGURAÇÕES ESPECÍFICAS DO OCR
ocr.char.whitelist=ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789
ocr.preprocessing.enhance-contrast=true
ocr.preprocessing.denoise=true
ocr.preprocessing.sharpen=false

# Validation configuration - VALIDAÇÃO DE PLACAS
plate.validation.strict-format=true
plate.validation.min-confidence=0.6
plate.validation.mercosul-pattern=^[A-Z]{3}[0-9][A-Z][0-9]{2}$
plate.validation.antiga-pattern=^[A-Z]{3}[0-9]{4}$

# Logging configuration - LOGS DETALHADOS
logging.level.com.example.licenseplate=DEBUG
logging.level.net.sourceforge.tess4j=INFO
logging.level.org.springframework.web.multipart=DEBUG
logging.level.org.apache.tomcat.util.http.fileupload=DEBUG
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# File logging - SALVAR LOGS EM ARQUIVO
logging.file.name=logs/license-plate-api.log
logging.file.max-size=50MB
logging.file.max-history=10
logging.file.total-size-cap=500MB

# Actuator endpoints para monitoramento
management.endpoints.web.exposure.include=health,info,metrics,env
management.endpoint.health.show-details=when-authorized
management.endpoint.info.enabled=true
management.info.env.enabled=true

# Metrics configuration
management.metrics.enabled=true
management.metrics.export.simple.enabled=true

# Security configuration básica
management.security.enabled=false

# Custom application info
info.app.name=License Plate Detector API
info.app.description=API para detecção automática de placas brasileiras
info.app.version=2.0.0
info.app.features=Tesseract OCR, Multi-algorithm Detection, Brazilian Plates, Async Processing

# Error handling
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=on_param
server.error.include-exception=false

# Request timeout
spring.mvc.async.request-timeout=35000

# Jackson JSON configuration
spring.jackson.serialization.indent-output=true
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.default-property-inclusion=NON_NULL

# Development profile specific (opcional)
# spring.profiles.active=development